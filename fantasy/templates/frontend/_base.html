{% extends "_base.html" %}
{% import "macros/_css.html" as css %}

{% block css -%}{{ css.render_css('main') }}{%- endblock %}

{% set navigation_bar = [
    ('frontend.index', 'index', 'Overview'),
    ('players.draft', 'draft', 'Draft'),
] -%}

{% set players_bar = [
    ('players.index', 'players', '2014 Stats'),
    ('players.index', 'projections', 'Projections'),
    ('players.index', 'zscores', 'Z Scores'),
] -%}

{% set plot_bar = [
    ('frontend.plot','all', 'plot_all', 'Total Z Score'),
    ('frontend.plot','big', 'plot_big', ' Big Z Score'),
    ('frontend.plot','diff', 'plot_diff', 'Diff Z Score'),
] -%}

{% set active_page = active_page|default('index') -%}

    {%- block siteheader %}
        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
         <div class="container-fluid">
           <div class="navbar-header">
             <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
               <span class="sr-only">Toggle navigation</span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
             </button>
             <a class="navbar-brand" href="#">Fantasy Basketball</a>
           </div>
           <div class="navbar-collapse collapse">
             <ul class="nav navbar-nav navbar-right">
                <li><a href="{{url_for('players.draft', update=True)}}" data-no-instant>Draft Update</a></li>
             </ul>
           </div>
         </div>
        </div>
    {%- endblock siteheader -%}

    {%- block sidebar %}
    <div class="col-sm-3 col-md-2 sidebar">
        <ul class="nav nav-sidebar">
          {% for route, id, caption in navigation_bar %}
            <li{% if id == active_page %} class="active"{% endif
                %}><a href="{{url_for(route)}}">{{ caption }}</a>
            </li>
          {%endfor%}
        </ul>
        <ul class="nav nav-sidebar">
          <li><h4>Player Tables</h4></li>
            {% for route, id, caption in players_bar %}
              <li{% if id == active_page %} class="active"{% endif
                  %}><a href="{{url_for(route)}}">{{ caption }}</a>
              </li>
            {%endfor%}
        </ul>
        <ul class="nav nav-sidebar">
          <li><h4>Z Score Plots</h4></li>
            {% for route, var, id, caption in plot_bar %}
              <li{% if id == active_page %} class="active"{% endif
                  %}><a href="{{url_for(route, name=var)}}">{{ caption |safe}}</a>
              </li>
            {%endfor%}
        </ul>
    </div>
    {%- endblock sidebar %}

    {% block sitefooter %}
    {%- endblock sitefooter %}

{%- block footer_js %}
{%- endblock footer_js %}
