{% extends "frontend/_base.html" %}
{% set active_page = "zscore" %}

{%- block content -%}

    <div class="page-header">
    <h1>Z Scores <small>{{players|length}} Players</small></h1>
    </div>


    <!-- Nav tabs -->
    <ul class="nav nav-pills header-tab" role="tablist">
      <li class="active"><a href="#totals" role="tab" data-toggle="tab">Total Z Scores</a></li>
      <li><a href="#categories" role="tab" data-toggle="tab">Categories</a></li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content">
      <div class="tab-pane fade active in" id="totals">
            <table class="table table-striped table-hover table-fixed-header">
                <thead class="header">
                <tr>
                    <th>PLAYER</th>
                    <th>POSITION</th>
                    <th>TEAM</th>
                    <th>Rank</th>
                    <th>Tot Zscore</th>
                    <th>Joe Zscore</th>
                    <th>Proj Tot Price</th>
                    <th>Proj Joe Price</th>
                </tr>
            </thead>
            <tbody>
            {% for player in players %}
                <tr>
                    <td>{% include 'partials/_player.html' %}</td>
                    <td>{% include 'partials/_pos_label.html' %}</td>
                    <td>{{player.team.name|upper}}</td>
                    <td>{{player.rank}}</td>
                    <td>{{player.tot_zscore|round(2)}}</td>
                    <td>{{player.big_zscore|round(2)}}</td>
                    <td>${{player.proj_cost_tot|round(2)}}</td>
                    <td>${{player.proj_cost_big|round(2)}}</td>
                </tr>
            {% endfor %}
            </tbody>
          </table>
      </div>
      <div class="tab-pane fade" id="categories">
          <table class="table table-striped table-hover table-fixed-tab-header">
              <thead class="header">
              <tr>
                  <th>PLAYER</th>
                  <th>POSITION</th>
                  <th>Rank</th>
                  {% for key, val in players[0].sorted_zscores %}
                  <th>{{key}} Z Score</th>
                  {% endfor %}
              </tr>
          </thead>
          <tbody>
          {% for player in players %}
              <tr>
                  <td>{% include 'partials/_player.html' %}</td>
                  <td>{% include 'partials/_pos_label.html' %}</td>
                  <td>{{player.rank}}</td>
                  {% for key, val in player.sorted_zscores %}
                  <td>{{val|round(2)}}</td>
                  {% endfor %}
              </tr>
          {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
{%- endblock -%}
